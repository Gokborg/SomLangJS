<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Test</title>
  <script type="module">
    import {lex} from "./target/compiler.js";
    const code = document.getElementsByTagName("textarea")[0];
    const output = document.getElementsByTagName("output")[0];

    code.oninput = e => {
      const results = lex(code.value.split("\n"));
      let string = "";
      for (const r of results) {
        string += JSON.stringify(r) + "\n";
      }
      output.value = string;
    };
  </script>
</head>
<body>
  <textarea id="code"></textarea><br>
  <output id="output" style="white-space: pre;"></output>
</body>
</html>